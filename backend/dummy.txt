#goal: return json object as 
#{body: {text: "", image: "base64string -> turn to image"}}
@app.route('/handle-video-to-text-and-image', methods=['POST'])
def handle_video_to_text_and_image():
    #dummy rn, do later when oscar's finished
    response = {
        "body": {
            "text": "dummy text of asl",
            "image": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAgMBAPXnD3YAAAAASUVORK5CYII="
            
        }
    }
    return jsonify(response)

#receive video
@app.route("/upload-video", methods = ["POST"])
def handle_upload_video():
    if 'video' not in request.files:
        return jsonify({'message': 'NO VIDEO UPLOADED!!! :('})

    video = request.files['video']

    upload_folder = 'uploads'

    video_path = os.path.join(upload_folder, video.filename)
    video.save(video_path)
    
    return redirect(url_for("handle_video_to_text_and_image"))